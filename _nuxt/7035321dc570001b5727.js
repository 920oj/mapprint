(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{386:function(t){t.exports=JSON.parse('["2019-typhoon-19.json","2019-chiba-typhoon-15.json"]')},387:function(t,e,o){t.exports=o.p+"img/7904534.png"},388:function(t,e,o){var map={"./2019-chiba-typhoon-15":389,"./2019-chiba-typhoon-15.json":389,"./2019-typhoon-19":390,"./2019-typhoon-19.json":390,"./2021-geojson-test":391,"./2021-geojson-test.json":391,"./list":386,"./list.json":386};function n(t){var e=r(t);return o(e)}function r(t){if(!o.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=r,t.exports=n,n.id=388},389:function(t){t.exports=JSON.parse('{"map_id":"2019-chiba-typhoon-15","map_title":"印刷できる台風災害支援情報マップ（千葉県）","map_title_en":"Printable Typhoon Disaster Relief Information Map (Chiba Prefecture)","map_description":"SNSで流れる給水所等の情報をネットを見れない地域の人にも伝えられるよう、印刷に最適化したマップです。マップを必要な地域のところに調整すると、A4サイズにちょうどよく印刷され、かつ必要な場所の情報がリストとして表示されます。（GS・給水・避難所・充電・無料Wifi）  ぜひ印刷して必要な人に届けてあげてください！","map_image":"ogp_2019-chiba-typhoon-15.png","sources":[{"id":"chiba","url":"https://www.google.com/maps/d/kml?mid=18v4csEC-qPW_aeXhEnuzgMfUAqWcbF5q&forcekml=1","type":"kml","title":"2019千葉台風15号","show":true}],"default_hash":"35.034970230243786,139.83536606997205-34.998870264553034,139.90144296563784","center":[139.83536606997205,35.034970230243786],"type":"KML","layer_settings":{"GS(赤：無事)":{"name":"GS(赤：無事)","name_en":"GS(red: safety)","color":"#992222","bg_color":"#CA9491","icon_class":"fas fa-heart","class":"layer_gs_ok"},"GS (黒点：未確認)":{"name":"GS (黒点：未確認)","name_en":"GS(black: unconfirmed)","color":"#4F4F5A","bg_color":"#B7B7BE","icon_class":"fas fa-eye-slash","class":"layer_gs_undefined"},"給水所_(千葉市・県指定除く）":{"name":"給水所_(千葉市・県指定除く）","name_en":"Water Supply Office(Chiba Pref, without prefectural designation)","color":"#285797","bg_color":"#A3BBDA","icon_class":"fas fa-tint","class":"layer_water_chibacity"},"避難所":{"name":"避難所","name_en":"shelter","color":"#276445","bg_color":"#A4C1B0","icon_class":"fas fa-street-view","class":"layer_temporary_houses"},"携帯充電_ほか":{"name":"携帯充電_ほか","name_en":"Cell phone charging (Other)","color":"#6D4615","bg_color":"#C1B17E","icon_class":"fas fa-plug","class":"layer_charger"},"無料Wifi":{"name":"無料Wifi","name_en":"Free Wi-Fi","color":"#604490","bg_color":"#BDB1D8","icon_class":"fas fa-wifi","class":"layer_wifi"}}}')},390:function(t){t.exports=JSON.parse('{"map_id":"2019-typhoon-19","map_title":"2019年台風19号災害支援情報マップ","map_title_en":"2019 Typhoon-19 Disaster relief information map","map_description":"SNSで流れる給水所等の情報をネットを見れない地域の人にも伝えられるよう、印刷に最適化したマップです。マップを必要な地域のところに調整すると、A4サイズにちょうどよく印刷され、かつ必要な場所の情報がリストとして表示されます。随時情報更新していきます。ぜひ印刷して必要な人に届けてあげてください！","map_image":"ogp_2019-typhoon-19.png","sources":[{"id":"japan","url":"https://www.google.com/maps/d/kml?mid=1pl0sY4TmNur6xB4bKvxxvi5rsizCY1bu&forcekml=1","link":"https://www.google.com/maps/d/u/0/viewer?mid=1pl0sY4TmNur6xB4bKvxxvi5rsizCY1bu","updated_search_key":{"type":"regexp","pattern":"<!\\\\[CDATA\\\\[(<br>)*(.+?)<br>","index":2,"field":"description"},"type":"kml","title":"全国","show":true},{"id":"nagareyama","url":"https://www.google.com/maps/d/kml?mid=1rAKfJOHRj7K8KkaAGEAwN4RGTABs9zIt&forcekml=1","link":"https://www.google.com/maps/d/u/0/viewer?mid=1rAKfJOHRj7K8KkaAGEAwN4RGTABs9zIt","type":"kml","title":"千葉県流山市のみ","show":true},{"id":"sousou","url":"https://www.google.com/maps/d/kml?mid=1IKlMaWlNDYmfEtgWsL9ZirnmLnirffhl&forcekml=1","link":"https://www.google.com/maps/d/u/0/viewer?mid=1IKlMaWlNDYmfEtgWsL9ZirnmLnirffhl","type":"kml","title":"福島県相双地区","updated_search_key":{"type":"regexp","pattern":"(2019.+?更新)","index":1,"field":"description"},"show":true}],"default_hash":"35.89575594927511,139.65994077606268-35.62491040699955,140.1995505107742","center":[140.1099463905179,35.77029301432708],"type":"KML","layer_settings":{"GS (黒点：未確認)":{"color":"#4F4F5A","bg_color":"#B7B7BE","icon_class":"fas fa-eye-slash","class":"layer_gs_undefined"},"避難所_台風19号_19年10月":{"name":"避難所_台風19号_19年10月","color":"#276445","bg_color":"#A4C1B0","icon_class":"fas fa-street-view","class":"layer_temporary_houses"},"携帯充電_ショップ(緑点；未確認)":{"color":"#6D4615","bg_color":"#C1B17E","icon_class":"fas fa-plug","class":"layer_charger"},"自主避難所":{"name":"自主避難所(流山市版)","color":"#276445","bg_color":"#A4C1B0","icon_class":"fas fa-street-view","class":"layer_temporary_houses"},"docomo 無料WIFI":{"color":"#992222","bg_color":"#CA9491","icon_class":"fas fa-wifi","class":"layer_wifi-docomo"},"Softbank 無料WIFI":{"color":"#666666","bg_color":"#B1B6B9","icon_class":"fas fa-wifi","class":"layer_wifi-sb"},"携帯充電(緑マーク：確認済)_台風19号_19年10月":{"color":"#456658","bg_color":"#8ED4B8","icon_class":"fas fa-plug","class":"layer_charger_19"},"給水(青：確認済)_台風19号_19年10月":{"color":"#001D96","bg_color":"#1CA3EA","icon_class":"fas fa-tint","class":"layer_water"},"Wifi(薄茶；確認済)_台風19号_19年10月":{"color":"#6D4615","bg_color":"#C1B17E","icon_class":"fas fa-wifi","class":"layer_wifi"},"トイレ(紫：確認済)_台風19号_19年10月 のコピー":{"color":"#BE4BDB","bg_color":"#d6b1e0","icon_class":"fas fa-toilet","class":"layer_toilet"},"入浴(桃：確認済)_台風19号_19年10月":{"color":"#c43895","bg_color":"#f9b3e2","icon_class":"fas fa-shower","class":"layer_shower"},"給水(青)_台風19号_19年10月":{"color":"#001D96","bg_color":"#1CA3EA","icon_class":"fas fa-tint","class":"layer_water"},"（南相馬市）給水所":{"color":"#001D96","bg_color":"#1CA3EA","icon_class":"fas fa-tint","class":"layer_water"},"（無料）入浴施設":{"color":"#c43895","bg_color":"#f9b3e2","icon_class":"fas fa-shower","class":"layer_shower"}}}')},391:function(t){t.exports=JSON.parse('{"map_id":"2021-geojson-test","map_title":"GeoJSON読み込みのテスト","map_title_en":"Test for loading GeoJSON","map_description":"","map_image":null,"sources":[{"id":"test","url":"/geojson/test.geojson","type":"geojson","title":"Test用GeoJSON","show":true}],"default_hash":"35.034970230243786,139.83536606997205-34.998870264553034,139.90144296563784","center":[139.83536606997205,35.034970230243786],"type":"geojson","layer_settings":{"GS(赤：無事)":{"color":"#992222","bg_color":"#CA9491","icon_class":"fas fa-heart","class":"layer_gs_ok"},"GS (黒点：未確認)":{"color":"#4F4F5A","bg_color":"#B7B7BE","icon_class":"fas fa-eye-slash","class":"layer_gs_undefined"},"給水所_(千葉市・県指定除く）":{"color":"#285797","bg_color":"#A3BBDA","icon_class":"fas fa-tint","class":"layer_water_chibacity"},"避難所":{"color":"#276445","bg_color":"#A4C1B0","icon_class":"fas fa-street-view","class":"layer_temporary_houses"},"携帯充電_ほか":{"color":"#6D4615","bg_color":"#C1B17E","icon_class":"fas fa-plug","class":"layer_charger"},"無料Wifi":{"color":"#604490","bg_color":"#BDB1D8","icon_class":"fas fa-wifi","class":"layer_wifi"}}}')},392:function(t,e,o){"use strict";var n={props:["isOpen"],data:function(){return{map_config:this.$nuxt.$route.params.map?o(388)("./"+this.$nuxt.$route.params.map):""}},methods:{handleClick:function(){this.isOpen=!1,this.$emit("closeModal")}}},r=o(21),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"modal",class:{open:t.isOpen}},[t.map_config?o("p",[t._v(t._s(t.map_config.map_description))]):t._e(),t._m(0),o("div",[o("span",{staticClass:"modal-close",on:{click:t.handleClick}},[t._v("× close")])])]),o("div",{staticClass:"modal-background",class:{open:t.isOpen},on:{click:t.handleClick}})])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("このサイトのソースコードはオープンに公開しております。開発にご協力いただける方は、"),e("a",{attrs:{href:"https://github.com/codeforjapan/mapprint"}},[this._v("Code for Japan の Github リポジトリ")]),this._v("から、開発にご参加ください。JavaScript や Leaflet などの経験がある方、大歓迎です。")])}],!1,null,null,null);e.a=component.exports},393:function(t,e,o){t.exports=o.p+"img/ae0b3b5.png"},394:function(t,e,o){t.exports=o.p+"img/a450028.png"},395:function(t,e,o){t.exports=o.p+"img/a19a4a4.png"},397:function(t,e,o){t.exports=o.p+"img/9254ccd.svg"},398:function(t,e,o){t.exports=o.p+"img/4d434b9.svg"},405:function(t,e,o){"use strict";o.r(e),o.d(e,"DEFAULT_ICON_COLOR",(function(){return d})),o.d(e,"default",(function(){return m})),o.d(e,"readCategoryOfFolder",(function(){return f}));o(76);var n=o(9),r=(o(56),o(144),o(406)),l=o(407),c=o(172),_=o(408),d="lightgreen",m=function(){function t(){Object(r.a)(this,t)}return Object(l.a)(t,[{key:"parse",value:function(t,data,e,o){switch(t){case"kml":var n=(new DOMParser).parseFromString(data,"text/xml");return this.loadKMLData(n,e,o);case"umal":this.loadUmapJsonData(data);break;case"geojson":var r=JSON.parse(data);return this.loadGeoJSONData(r)}}},{key:"addFeatureCollection",value:function(t,e){t.features.forEach((function(t){t.geometry.type}))}},{key:"loadUmapJsonData",value:function(data){data.layers.forEach((function(t){t._umap_options;t.features.forEach((function(t){}))}))}},{key:"loadGeoJSONData",value:function(data){var t=Date.now().toLocaleString(),e=[];return console.log(data),data.features.forEach((function(t){var o=t.category;e.push({feature:t,category:o})})),[e,t]}},{key:"loadKMLData",value:function(data,t,e){var o=data.getElementsByTagName("Folder");0==o.length&&(o=data.getElementsByTagName("Document"));var n="";if(null!=e&&"regexp"==e.type){var r=data.getElementsByTagName(e.field);if(r.length>0){var text=r[0].innerHTML,l=new RegExp(e.pattern,"iu").exec(text);null!=l&&l.length>1&&(n="("+l[e.index]+")")}}var c=[];return Array.prototype.forEach.call(o,(function(t){var e=f(t,data).name;if("FeatureCollection"==_.kml(t).type){var o=_.kml(t,{styles:!0});if(o.features.length>0)return o.features.map((function(t){"Point"==t.geometry.type&&c.push({feature:t,category:e})}))}else{var n=_.kml(t,{styles:!0});c.push({geojsondata:n,category:e})}})),[c,n]}},{key:"inBounds",value:function(t,e){var o=(t[0]-e.getNorthEast().lng)*(t[0]-e.getSouthWest().lng)<0,n=(t[1]-e.getNorthEast().lat)*(t[1]-e.getSouthWest().lat)<0;return o&&n}},{key:"convertCategoryStyle",value:function(t,e){return null==e?t:(e.forEach((function(e){if(e.name==t.name)return t.color=e.color,t.bgColor=e.bg_color,t.iconClass=e.icon_class,t.class=e.class,t})),t)}},{key:"serializeLatLng",value:function(t){return t.lat+","+t.lng}},{key:"serializeBounds",value:function(t){return this.serializeLatLng(t.getNorthWest())+"-"+this.serializeLatLng(t.getSouthEast())}},{key:"deserializeLatLng",value:function(s){var t=s.split(",",2),e=Object(n.a)(t,2),o=e[0],r=e[1],l=parseFloat(r),_=parseFloat(o);return new c.LngLat(l,_)}},{key:"deserializeBounds",value:function(s){try{var t=this;return new c.LngLatBounds(s.split("-",2).map((function(e){return t.deserializeLatLng(e)})))}catch(t){return}}}]),t}();function f(t,e){var o,n="red";console.log(t);try{o=t.getElementsByTagName("name")[0].textContent;var r=t.getElementsByTagName("styleUrl")[0].textContent;if(r){var l=e.querySelectorAll(r+" Pair");l.length>0&&Array.prototype.forEach.call(l,(function(t){var o=t.querySelector("key");if(o&&"normal"==o.textContent){var r=t.querySelector("styleUrl").textContent,style=e.querySelector(r);try{n="#"+style.querySelector("IconStyle color").textContent.substr(0,6)}catch(t){n=d}}}))}}catch(e){console.log("#category read error"),console.log(e),console.log(t)}return{name:o,color:n,iconUrl:void 0}}},409:function(t,e){},412:function(t,e,o){"use strict";o.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"aside-item1"},[e("h2",{staticClass:"aside-title-sp"},[e("img",{attrs:{src:o(393),width:"607",height:"452",alt:"地図情報を印刷できる「紙マップ」"}})]),e("h2",{staticClass:"aside-title-pc"},[e("img",{attrs:{src:o(387),width:"895",height:"160",alt:"地図情報を印刷できる「紙マップ」"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"aside-item3"},[e("div",{staticClass:"aside-item-illust1"},[e("img",{attrs:{src:o(394),width:"360",height:"450",alt:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"aside-item6"},[e("div",{staticClass:"aside-item-illust2"},[e("img",{attrs:{src:o(395),width:"640",height:"435",alt:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo print-exclude"},[e("img",{attrs:{src:o(387),width:"895",height:"160",alt:"地図情報を印刷できる「紙マップ」"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"footer-logo"},[e("img",{attrs:{src:o(387),width:"895",height:"160",alt:"地図情報を印刷できる「紙マップ」"}})])])}],r=o(396),l=(o(142),o(143),o(13),o(7),o(30),o(9)),c=(o(32),o(3));o(56),o(102),o(399),o(401);function _(dt,t){var e=dt.getFullYear()+"年"+("00"+(dt.getMonth()+1)).slice(-2)+"月"+("00"+dt.getDate()).slice(-2)+"日"+("00"+dt.getHours()).slice(-2)+"時"+("00"+dt.getMinutes()).slice(-2)+"分";return"en"===t&&(e=dt.toLocaleString("en-US")),e}var d,m=o(403).crc16,f={props:["map_config"],data:function(){return{layers:[],map:null,bounds:null,updated_at:null,previous_hash:"",activeCategory:"",checkedArea:[],isOpenAreaSelect:!1,isOpenList:!1,isDisplayAllCategory:!0,mapStyle:{version:8,sources:{OSM:{type:"raster",tiles:[this.$i18n.t("PrintableMap.map_url")],tileSize:256,attribution:'Map data © <a href="http://openstreetmap.org/">OpenStreetMap</a>'},mapprint:{type:"vector",url:"https://kamimap.com/data/".concat(this.map_config.map_id,"/tilejson.json")}},layers:[{id:"OSM",type:"raster",source:"OSM",minzoom:0,maxzoom:22}]}}},computed:{center:function(){return this.map_config.center},inBoundsMarkers:function(){var t=this,e=[];return this.layers.map((function(o){o.source.show&&o.markers.map((function(marker){t.bounds&&d.inBounds(marker.feature.geometry.coordinates,t.bounds)&&e.push(marker)}))})),e},displayMarkersGroupByCategory:function(){var t=this;return this.inBoundsMarkers.reduce((function(e,o){var n=t.map_config.layer_settings[o.category],r=e.find((function(g){return g.name===o.category}));return r||(r={category:o.category,name:n.name,name_en:n.name_en,prop:o.category,markers:[]},e.push(r)),r.markers.push(o),e}),[])},selectArea:{get:function(){return this.checkedArea},set:function(t){this.checkedArea=t}}},mounted:function(){var t=o(405).default,e=o(410).default;d=new t;var area=[],n={},r=this;this.map_config.sources.forEach((function(source){Object(c.a)(regeneratorRuntime.mark((function t(){var data,o,c,f,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return source.show&&area.push(source.title),r.checkedArea=area,r.updated_at=_(new Date),t.next=5,e.get(source.url).text();case 5:data=t.sent,o=d.parse(source.type,data,r.map_config.layer_settings,source.updated_search_key),c=Object(l.a)(o,2),f=c[0],h=c[1],f.map((function(marker){n[marker.category]=!0})),source.updated_at=h,Object.keys(n).map((function(t){if(!r.map_config.layer_settings[t]){var e="#";e+=(parseInt(m(t.substr(0)),16)%32+64).toString(16),e+=(parseInt(m(t.substr(1)),16)%32+64).toString(16),e+=(parseInt(m(t.substr(2)),16)%32+64).toString(16);var o="#";o+=(parseInt(m(t.substr(0)),16)%32+128).toString(16),o+=(parseInt(m(t.substr(1)),16)%32+128).toString(16),o+=(parseInt(m(t.substr(2)),16)%32+128).toString(16),r.map_config.layer_settings[t]={name:t,color:e,bg_color:o}}})),r.layers.push({source:source,markers:f});case 11:case"end":return t.stop()}}),t)})))()}))},methods:{load:function(t){var e=window.location.hash.substr(1),o=d.deserializeBounds(e);this.map=t.map,null!=o?this.map.fitBounds(o,{linear:!1}):null!=(o=d.deserializeBounds(this.map_config.default_hash))&&this.map.fitBounds(o,{linear:!1}),this.map.on("moveend",this.etmitBounds),this.etmitBounds()},etmitBounds:function(){this.bounds=this.map.getBounds(),this.setHash(this.bounds),this.$emit("bounds-changed")},setHash:function(t){var s=d.serializeBounds(t),path=location.pathname;s!=this.previous_hash&&window.history.pushState("","",path+"#"+s),this.previous_hash=s},selectCategory:function(t){this.activeCategory=t}}},h=o(21),y=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("client-only",[t.layers.length?n("div",[n("div",{staticClass:"map-outer"},[n("MglMap",{attrs:{mapStyle:t.mapStyle,center:t.center,zoom:15,preserveDrawingBuffer:"",sourceId:"basemap",id:"map"},on:{"update:mapStyle":function(e){t.mapStyle=e},"update:map-style":function(e){t.mapStyle=e},load:t.load}},[n("MglGeolocateControl"),t._l(t.layers,(function(e){return t.checkedArea.includes(e.source.title)?t._l(e.markers,(function(marker,e){return n("MglMarker",{key:e,attrs:{coordinates:marker.feature.geometry.coordinates}},[n("template",{slot:"marker"},[n("div",{staticClass:"marker"},[n("span",{class:{show:t.isDisplayAllCategory||t.activeCategory===marker.category},style:{background:t.map_config.layer_settings[marker.category].color}},[n("i",{class:[t.map_config.layer_settings[marker.category].icon_class,t.map_config.layer_settings[marker.category].class],style:{backgroundColor:t.map_config.layer_settings[marker.category].color}}),n("b",{staticClass:"number",style:{background:t.map_config.layer_settings[marker.category].bg_color}},[t._v(t._s(t.inBoundsMarkers.indexOf(marker)+1))])])])]),n("MglPopup",[n("div",[n("div",{staticClass:"popup-type"},[n("i",{class:[t.map_config.layer_settings[marker.category].icon_class,t.map_config.layer_settings[marker.category].class],style:{backgroundColor:t.map_config.layer_settings[marker.category].color}}),n("span",{staticClass:"popup-poi-type"},[t._v(t._s(marker.category))])]),n("p",[t._v(t._s(t.$i18n.t("PrintableMap.name"))+" "+t._s(marker.feature.properties.name))]),n("div",{staticClass:"popup-detail-content"},[n("p",{domProps:{innerHTML:t._s(marker.feature.properties.description?marker.feature.properties.description:"")}})])])])],2)})):t._e()}))],2)],1),n("div",{staticClass:"legend-navi"},[n("div",{staticClass:"area-select",class:{open:t.isOpenAreaSelect}},[n("div",{staticClass:"area-close",on:{click:function(e){t.isOpenAreaSelect=!1}}},[t._v(t._s(t.$t("PrintableMap.close_area_select"))),n("i",{staticClass:"fas fa-arrow-down"})]),n("div",{staticClass:"area-list-outer",class:{open:t.isOpenAreaSelect}},[n("ul",{staticClass:"area-list grid"},t._l(t.map_config.sources,(function(source){return n("li",{staticClass:"area-item col-12_xs-6"},[n("label",{staticClass:"area-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.selectArea,expression:"selectArea"}],staticClass:"area-input",attrs:{type:"checkbox"},domProps:{value:source.title,checked:Array.isArray(t.selectArea)?t._i(t.selectArea,source.title)>-1:t.selectArea},on:{change:function(e){var o=t.selectArea,n=e.target,r=!!n.checked;if(Array.isArray(o)){var l=source.title,c=t._i(o,l);n.checked?c<0&&(t.selectArea=o.concat([l])):c>-1&&(t.selectArea=o.slice(0,c).concat(o.slice(c+1)))}else t.selectArea=r}}}),t._v(t._s(source.title)),n("span",[t._v(t._s(source.updated_at))]),source.link?n("a",{attrs:{href:source.link,target:"blank"}},[t._v("["+t._s(t.$t("PrintableMap.back_to_map"))+"]")]):t._e()])])})),0)])]),n("div",{staticClass:"navigation"},[n("div",{staticClass:"navigation-area"},[n("div",{staticClass:"area-select-button",on:{click:function(e){t.isOpenAreaSelect=!t.isOpenAreaSelect}}},[n("div",{staticClass:"area-array-outer"},[n("i",{staticClass:"fas fa-check-square"}),n("div",{staticClass:"area-array"},[t._v(t._s(t.checkedArea.join(", ")))])]),n("div",{staticClass:"area-select-button-icon print-exclude"},[n("i",{staticClass:"fas fa-arrow-up"})])])]),n("div",{staticClass:"navigation-legend legend-navi-inner print-exclude"},[n("div",{staticClass:"legend-navi-icon"},[n("img",{attrs:{src:o(397),width:"60",height:"60",alt:"凡例ナビ"}})]),n("div",{staticClass:"legend-list-outer"},[n("simplebar",{attrs:{"data-simplebar-auto-hide":"false"}},[n("ul",{staticClass:"legend-list"},t._l(t.map_config.layer_settings,(function(e,o){return t.displayMarkersGroupByCategory.some((function(t){return t.name===o}))?n("li",{staticClass:"legend-item"},[n("span",{staticClass:"legend-mark",class:{open:t.isDisplayAllCategory||t.activeCategory===o},style:{backgroundColor:e.color},on:{click:function(e){t.selectCategory(o),t.isOpenList=o,t.isDisplayAllCategory=!1}}},[n("i",{class:[e.icon_class]})])]):t._e()})),0)])],1),n("div",{staticClass:"legend-navi-icon",class:{inactive:t.activeCategory},on:{click:function(e){t.selectCategory(""),t.isDisplayAllCategory=!0,t.isOpenList=!0}}},[n("div",{staticClass:"legend-navi-button"},[n("img",{staticClass:"legend-navi-img",attrs:{src:o(398),width:"40",height:"40",alt:"すべて表示"}})])])])]),n("div",{staticClass:"list-outer",class:{open:t.isOpenList}},[t._l(t.displayMarkersGroupByCategory,(function(e){return n("section",{staticClass:"list-section",class:{show:t.isDisplayAllCategory||t.activeCategory===e.name}},[n("h2",{staticClass:"list-title",style:{backgroundColor:t.map_config.layer_settings[e.category].color}},[n("span",{staticClass:"list-title-mark"},[n("i",{class:t.map_config.layer_settings[e.category].icon_class})]),"ja"===t.$i18n.locale?n("span",[t._v(t._s(e.name))]):n("span",[t._v(t._s(e.name_en))])]),n("ul",{staticClass:"list-items grid-noGutter"},t._l(e.markers,(function(marker){return n("li",{staticClass:"col-12_xs-6"},[n("span",{staticClass:"item-number"},[t._v(t._s(t.inBoundsMarkers.indexOf(marker)+1))]),n("span",{staticClass:"item-name"},[t._v(t._s(marker.feature.properties.name))])])})),0)])})),t.isDisplayAllCategory&&0===t.displayMarkersGroupByCategory.length?n("div",{staticClass:"list-section-none"},[n("p",[t._v(t._s(t.$t("PrintableMap.no_point_in_map")))])]):t._e()],2)]),n("div",{staticClass:"legend-close print-exclude",class:{open:t.isOpenList},on:{click:function(e){t.isOpenList=!1}}},[t._v(t._s(t.$t("PrintableMap.close_list"))),n("i",{staticClass:"fas fa-arrow-down"})])]):t._e()])}),[],!1,null,null,null).exports,v=o(392);o(411).init();var C={components:{PrintableMap:y,VueQrcode:r.a,Modal:v.a},asyncData:function(t){var e=t.app;return{updated_at:_(new Date,e.i18n.locale)}},data:function(){return{map_config:o(388)("./"+this.$nuxt.$route.params.map),isOpenExplain:!1,fullURL:null,updated_at:null}},head:function(){return{title:this.map_config.map_title,meta:[{hid:"description",name:"description",content:this.map_config.map_description},{hid:"og:image",property:"og:image",content:"https://kamimap.com/images/"+(this.map_config.map_image?this.map_config.map_image:"logo.png")},{hid:"og:description",name:"og:description",content:this.map_config.map_description},{hid:"og:title",name:"og:title",content:this.map_config.map_title+" - 紙マップ"}]}},mounted:function(){this.fullURL=location.href},methods:{updateQRCode:function(){this.fullURL=location.href},closeModalMethod:function(){this.isOpenExplain=!1}}},k=Object(h.a)(C,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"layout-map"},[o("div",{staticClass:"layout-map-inner grid-noGutter"},[o("aside",{staticClass:"print-exclude col-12_md-3_xl-6"},[o("div",{staticClass:"aside-inner"},[o("div",{staticClass:"aside-grid"},[t._m(0),o("div",{staticClass:"aside-item2"},[o("p",[t._v(t._s(t.$t("map.desc_1")))])]),t._m(1),o("div",{staticClass:"aside-item4"},[o("p",[t._v(t._s(t.$t("map.desc_2"))),o("br"),t._v(t._s(t.$t("map.desc_3")))])]),o("div",{staticClass:"aside-item5"},[o("p",[t._v(t._s(t.$t("map.desc_4"))),o("br"),t._v(t._s(t.$t("map.desc_5")))])]),t._m(2),o("div",{staticClass:"aside-item7"},[o("p",[t._v(t._s(t.$t("map.desc_6"))),o("br"),t._v(t._s(t.$t("map.desc_7")))])])])])]),o("main",{staticClass:"main col-12_md-9_xl-6"},[o("div",{staticClass:"main-sheet"},[o("header",{staticClass:"header"},[o("div",{staticClass:"to-top"},[o("nuxt-link",{attrs:{to:"/"}},[o("i",{staticClass:"far fa-arrow-alt-circle-left fa-2x"})])],1),o("div",{staticClass:"banner"},[t._m(3),o("div",{staticClass:"sub-outer print-exclude"},[o("div",{staticClass:"sub-button",on:{click:function(e){t.isOpenExplain=!t.isOpenExplain}}},[o("i",{staticClass:"fas fa-info-circle fa-lg"}),o("span",[t._v(t._s(t.$t("common.about")))])]),o("div",{staticClass:"sub-button github-link"},[o("i",{staticClass:"fab fa-github fa-lg"}),o("a",{attrs:{href:"https://github.com/codeforjapan/mapprint"}},[t._v(t._s(t.$t("common.contribute")))])]),t._l(t.$i18n.locales,(function(e){return o("div",{staticClass:"sub-button"},[o("nuxt-link",{key:e.code,attrs:{to:t.switchLocalePath(e.code)}},[o("span",[t._v(t._s(e.name))])])],1)}))],2),o("div",{staticClass:"title-outer"},[t.map_config&&"ja"===t.$i18n.locale?o("h1",{staticClass:"title"},[t._v(t._s(t.map_config.map_title))]):o("h1",{staticClass:"title"},[t._v(t._s(t.map_config.map_title_en))]),o("div",{staticClass:"datetime"},[t._v(t._s(t.$t("map.printed_at"))+" "+t._s(t.updated_at))])])]),o("div",{staticClass:"qrcode"},[o("vue-qrcode",{attrs:{value:t.fullURL,tag:"img"}})],1)]),t.map_config?o("printable-map",{attrs:{map_config:t.map_config},on:{"bounds-changed":t.updateQRCode}}):t._e(),t._m(4)],1)])]),o("modal",{attrs:{isOpen:t.isOpenExplain},on:{closeModal:t.closeModalMethod}})],1)}),n,!1,null,null,null);e.default=k.exports}}]);